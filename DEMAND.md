# DEMAND管理手册  
**最后同步版本**：v1.8.3 (2025-07-22)  
**核心关注分支**：
- 🌱 `main`

## 📦 需求池 [总34条]
| ID    | 需求摘要                   | 提出时间   | 所属分支 | 状态标签    | 负责人 |
|-------|---------------------------|------------|---------|------------|--------|
| D-1   | 记录组分为两种类型（可扩展）| 2025-07-22 | main    | 完成         | @Luo-Yuanxing |
| D-2   | 增加自动跳转到上次播放位置  | 2025-07-22 | main    | 完成         | @Luo-Yuanxing |
| D-3   | 修复同一视频记录不覆盖的问题| 2025-07-22 | main    | 完成         | @Luo-Yuanxing |
| D-4   | 完成普通合集类型记录        | 2025-07-22 | main    | 待开发       | @Luo-Yuanxing |

### 🔖 [D-1] 记录组分为两种类型（可扩展）
**提出背景**：  
根据实际，目前B站存在两种不同类型的合集，需要按不同数据结构存储，以方便后续开发

**技术方案**：  
1. 将原recordsGroupList更名为recordsGroupMap
2. recordsGroupMap 结构为 `{"recordsGroupListSpecial": [], "recordsGroupListNormal": []}`

### 🔖 [D-2] 增加自动跳转到上次播放位置
**提出背景**：  
点击链接后不会恢复到上次播放位置

**技术方案**：  
1. 用户点击链接后，popup负责记录用户点击的视频，存储于chrome
2. content.js 在页面加载完毕后从chrome获取需要刷新的视频，比较当前页面视频，匹配成功则从record中获取时间数据进行跳转

### 🔖 [D-3] 修复同一视频记录不覆盖的问题
**提出背景**：  
在同一视频页面多次点击记录按钮，导致记录重复

**技术方案**：  
1. 在记录视频时，先检查该视频是否已存在于记录中
2. 如果已存在，则更新该记录的时间戳和其他信息；如果不存在，则新增记录

### 🔖 [D-4] 完成普通合集类型记录